---
cardano_network: preview
# extraPodLabels: {}
image:
  repository: ghcr.io/blinklabs-io/cardano-node
  tag: 10.5.3
  pullPolicy: IfNotPresent
replicaCount: 1
resources: {}
service:
# Optional annotations for the Service
# annotations:
#   external-dns.alpha.kubernetes.io/hostname: "my-service.example.com"
  type: ClusterIP
  ports:
    ntn:
      port: 3001
      targetPort: 3001
    socatNtc:
      port: 30000
      targetPort: 30000
    metrics:
      port: 12798
      targetPort: 12798

# Mithril snapshot restoration in the main container
restoreSnapshot: false

# Mithril snapshot restoration via initContainer
mithril:
  # Enable Mithril snapshot download via initContainer (recommended)
  # Runs mithril-client in initContainer before the main cardano-node container starts
  enabled: true
  # Genesis and ancillary keys - read from image config files by default
  # These are fallbacks if /opt/cardano/config/{network}/*.vkey files don't exist
  genesisVerificationKey: ""  # Optional: fallback if image doesn't have genesis.vkey
  ancillaryVerificationKey: ""  # Optional: fallback if image doesn't have ancillary.vkey
  snapshotDigest: ""  # Specific snapshot digest to download (leave empty for latest)
  # Force re-download of mithril snapshot even if data exists
  # Useful for updating to a newer snapshot
  # WARNING: This will delete existing database data
  forceRedownload: false
  # Enable debug logging in init container (shows directory listings, etc.)
  debugInit: false
  # Optional resource limits for the mithril initContainer
  resources: {}
    # limits:
    #   cpu: 2
    #   memory: 4Gi
    # requests:
    #   cpu: 1
    #   memory: 2Gi

blockProducer:
  enabled: false
# These are placeholder keys used as an example. You will need to generate your own.
#  keys:
#    - name: kes.skey
#      type: KesSigningKey_ed25519_kes_2^6
#      description: KES Signing Key
#      cborHex: 590260ba480db1c8b51c48ab3e2fb26b34429431464e3e3b8c0bf86ab6f605a977627c31988677b46cdc192ef06fd2904e0fb648322c86d13815238f870a025caa33064ca7bcfd61b0e4743c449768780c29027cad1769ae1ecba361e47c52c327558736dfacb13a4f5538d5232901ce88fbbfd6cae9e0550218bae11112cb9951126109664e353d69d44a7769ae8a0d4e76baf66f6e228e718ea4e3e22cf680ae54470c39bdaf573e14a9ac0db7e8c91c44b49847b5bf601442bcfd8694de3990e6903eaeb1bf6230689002164637bf0ba7dcd97728c67768123c14f8fc41f321eaf6bd463615f9e502f0841d0661ff14427e6af7922542d62234ed70083e0cb17a72685566f8b4547ea00034ac252cf929a643ae14a7d532b706283bc768cbe58c438f65db66d5f66d28935942fcb77eeeb7508224c32f7edec35e0cc6e970e18bcfe3992a380bd52a758d9f20d1eac3606e6c3031c71b55ca3315fa5d7cf7c502c735cd58da3674ea2db88e1232f99a3cf330cff14f1744b0633d0cec98754fc9106e9b38f61433c8f75dbf718b55d7935f981d09acdaa84e4dca65cc38b2ee8ab2047771eeed256a1154cb70587e1cf815699b8ff6ed274c793616f89a13b2402b9d94d30ed670f5ef15fb7cfaf7e67ef5af570b12884618ae687309e35bbc6796b866032cd03a9af9e2dd706b98a484c502d86c48d97cf5638fa1d8b0aa190f70f4ec1b5b8c06f68a01e967e8aa0b88ae1ca84f6a9632df235fc4e3c9125678c13f813dc6d07b3a18b284eedb7661307273db653260c1be0f6a842aed45ed2c2a7478963934d5777243d22319597fa89a9db59624d229050c10bfacbeb65027cd
#    - name: node.cert
#      type: NodeOperationalCertificate
#      description: ""
#      cborHex: 82845820a0a32c47052755271d3ba14f4e44d8d5ec7fe6d55743a7982db5e67d70e0979e001902bf58403a2f841ae8ebdd751e6d52583963d8df37e05f3ec9225cc8ab160e38ad97296fe306e03a1240e7e704f260bed5a193ff69a6e6fa0526d6f0d4988b6b37ffc3075820da34b28ddcda277d264a7e5e5238996501cf76be0eacb555ab7a02d146b86b46
#    - name: vrf.skey
#      type: VrfSigningKey_PraosVRF
#      description: VRF Signing Key
#      cborHex: 5840823318989cf48897044629a22a27c8bf975215fe28161fc90cc42e9446a331be96a37ee0c4060a46ee0bf99fcba3460be133e7e343dd7d4144f67f2a6402e886

# Custom topology. When disabled the image will load the default topology for chosen cardano_network
topology:
  enabled: false
#  bootstrapPeers:
#    - address: preview-node.play.dev.cardano.org
#      port: 3001
#  localRoots:
#    - accessPoints:
#        - name: Example
#          address: preview-node.play.dev.cardano.org
#          port: 3001
#      advertise: false
#      trustable: true
#      valency: 1
#    - accessPoints:
#        - name: Example
#          address: preview-node.play.dev.cardano.org
#          port: 3001
#        - name: Example
#          address: preview-node.play.dev.cardano.org
#          port: 3001
#      advertise: true
#      trustable: false
#      valency: 2
#  publicRoots:
#    - advertise: true
#  # useLedgerAfterSlot: -1 to disable ledger peer discovery
#  useLedgerAfterSlot: 83116868

storage:
# Suitable for preview and preprod, 250+ for mainnet
  size: "24Gi"
# Leave empty to use the default storage class
  storageClassName: ""
tolerations:
- key: kubernetes.io/arch
  operator: Equal
  value: arm64
  effect: NoSchedule

# Enable the PodMonitor for Prometheus Operator
podMonitor:
  enabled: false
  # extraLabels: {}
  # fallbackScrapeProtocol: "PrometheusText0.0.4"
  # Required for Prometheus >= v3.0.0
  fallbackScrapeProtocol: ""
  podMetricsEndpoints:
    - port: metrics
      path: /metrics
      interval: 30s

serviceAccountName: ""

# Allow to define resources for the socat container
socat:
  resources: {}
